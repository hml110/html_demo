<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>38.è‡ªå®šä¹‰æŒ‡ä»¤</title>
    <script src="../js/vue.js"></script>
</head>

<body>
    <div id="root">
        <!-- éœ€æ±‚ä¸€ï¼šè‡ªå®šä¹‰æŒ‡ä»¤æ‰©å¤§n10å€ -->
        <h2>å½“å‰çš„nå€¼æ˜¯ï¼š<span v-text="n"></span></h2>
        <h2>æ”¾å¤§10å€çš„nå€¼æ˜¯ï¼š<span v-big1="n"></span></h2>
        <button @click="n++">ç‚¹æˆ‘n+1</button>

        <hr />

        <!-- éœ€æ±‚äºŒï¼šè‡ªå®šä¹‰æŒ‡ä»¤å®ç°è·å–ç„¦ç‚¹ -->
        <input type="text" v-fbind1:value="n">

    </div>
    <script>
        Vue.config.productionTip = false;//é˜»æ­¢ç”Ÿäº§æç¤º

        //å…¨å±€æŒ‡ä»¤
        Vue.directive('fbind1', {
            //æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆä¸€ä¸Šæ¥ï¼‰è°ƒç”¨
            bind(element, binding) {
                console.log("bind()è°ƒç”¨");
                element.value = binding.value
            },
            //æŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶
            inserted(element, binding) {
                console.log("inserted()è°ƒç”¨");
                element.focus()

            },//æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£æ
            updated(element, binding) {
                console.log("updated()è°ƒç”¨");
                element.value = binding.value
            },
        });


        Vue.directive('big1', function (element, binding) {
            //element æŒ‡ä»¤æ‰€ç»‘å®šçš„æ ‡ç­¾
            //binding æŒ‡ä»¤ç»‘å®šçš„çš„å¯¹è±¡
            console.log(element);
            console.dir(element);//<span>æ ‡ç­¾
            console.log(binding.value);//1
            element.innerHTML = binding.value * 10
        })

        const vm = new Vue({
            el: '#root',
            data: {
                n: 1,

            },
            methods: {
            },
            //è‡ªå®šä¹‰æŒ‡ä»¤
            directives: {
                //bigå‡½æ•°ä½•æ—¶ä¼šè¢«è°ƒç”¨ï¼Ÿ  
                // 1.æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆä¸€ä¸Šæ¥ï¼‰
                // 2.æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶
                big(element, binding) {
                    //element æŒ‡ä»¤æ‰€ç»‘å®šçš„æ ‡ç­¾
                    //binding æŒ‡ä»¤ç»‘å®šçš„çš„å¯¹è±¡
                    console.log('big', this) // ğŸ”´æ³¨æ„æ­¤å¤„çš„ this æ˜¯ window
                    console.log(element);
                    console.dir(element);//<span>æ ‡ç­¾
                    console.log(binding.value);//1
                    element.innerHTML = binding.value * 10
                },
                fbind: {
                    //æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆä¸€ä¸Šæ¥ï¼‰è°ƒç”¨
                    bind(element, binding) {
                        console.log("bind()è°ƒç”¨");
                        element.value = binding.value
                    },
                    //æŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶
                    inserted(element, binding) {
                        console.log("inserted()è°ƒç”¨");
                        element.focus()

                    },//æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£æ
                    updated(element, binding) {
                        console.log("updated()è°ƒç”¨");
                        element.value = binding.value
                    },

                },
                'big-color': {
                    bind(element, binding) {
                        console.log("bind()è°ƒç”¨");
                        element.value = binding.value
                    }

                }
            }
        }
        );
    </script>
</body>

</html>